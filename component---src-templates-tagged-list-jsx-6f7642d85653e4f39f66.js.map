{"version":3,"sources":["webpack:///./src/components/TaggedList/index.jsx","webpack:///./src/templates/TaggedList.jsx"],"names":["TaggedList_TaggedList","_ref","data","location","page","Object","getPage","a","tag","fp","flow","get","split","allPosts","getPosts","filter","includes","postCount","size","posts","slice","constants","CONTENT_PER_PAGE","react_default","createElement","react","Fragment","PostsWrapper","Helmet_default","toUpper","name","content","isEmpty","map","post","node","path","frontmatter","images","tags","Card","assign","key","Pagination","prefix","propTypes","prop_types_default","shape","isRequired","components_TaggedList","f","d","t","default","props","layout","pageQuery"],"mappings":"yOAWMA,EAAa,SAAAC,GAAwB,IAArBC,EAAqBD,EAArBC,KAAMC,EAAeF,EAAfE,SACpBC,EAAOC,OAAAC,EAAAC,EAAAF,CAAQ,EAARA,CAAWF,GAClBK,EAAMH,OAAAI,EAAAC,KAAAL,CACVA,OAAAI,EAAAE,IAAAN,CAAI,YACJA,OAAAI,EAAAG,MAAAP,CAAM,KACNA,OAAAI,EAAAE,IAAAN,CAAI,KAHMA,CAIVF,GACIU,EAAWR,OAAAI,EAAAC,KAAAL,CACfS,EAAAP,EACAF,OAAAI,EAAAM,OAAAV,CACEA,OAAAI,EAAAC,KAAAL,CACEA,OAAAI,EAAAE,IAAAN,CAAI,yBACJA,OAAAI,EAAAO,SAAAX,CAASG,KALEH,CAQfH,GACIe,EAAYZ,OAAAI,EAAAS,KAAAb,CAAKQ,GACjBM,EAAQd,OAAAI,EAAAW,MAAAf,EACXD,EAAO,GAAKiB,EAAAC,iBACblB,EAAOiB,EAAAC,iBAFKjB,CAGZQ,GAEF,OACEU,EAAAhB,EAAAiB,cAACC,EAAAC,SAAD,KACEH,EAAAhB,EAAAiB,cAACG,EAAApB,EAAD,KACEgB,EAAAhB,EAAAiB,cAACI,EAAArB,EAAD,KACEgB,EAAAhB,EAAAiB,cAAA,yBACenB,OAAAI,EAAAoB,QAAAxB,CAAQG,IAEvBe,EAAAhB,EAAAiB,cAAA,QAAMM,KAAK,WAAWC,QAAA,YAAqB1B,OAAAI,EAAAoB,QAAAxB,CAAQG,MAEpDH,OAAAI,EAAAuB,QAAA3B,CAAQc,GACPI,EAAAhB,EAAAiB,cAAA,wBAGE,KACHnB,OAAAI,EAAAwB,IAAA5B,CAAI,SAAC6B,GACJ,GAAuB,UAAnBA,EAAKC,KAAKC,KAAkB,CAC9B,IAAMC,EAAchC,OAAAI,EAAAE,IAAAN,CAAI,mBAAJA,CAAwB6B,GACpCI,EAAuBD,EAAvBC,OAAQC,EAAeF,EAAfE,KAAMH,EAASC,EAATD,KAEtB,OACEb,EAAAhB,EAAAiB,cAACgB,EAAAjC,EAADF,OAAAoC,QAAMC,IAAKN,EAAMA,KAAMA,EAAMG,KAAMA,EAAMD,OAAQA,GAAYD,IAIjE,OAAO,MAVRhC,CAWEc,IAELI,EAAAhB,EAAAiB,cAACmB,EAAApC,GACCqC,OAAA,SAAiBpC,EAAjB,IACAS,UAAWA,EACXd,SAAUA,MAMlBH,EAAW6C,WACT3C,KAAM4C,EAAAvC,EAAUwC,UAAUC,WAC1B7C,SAAU2C,EAAAvC,EAAUwC,UAAUC,YAGhC,IAAAC,EAAAC,EAAA3C,EAAA4C,EAAAC,EAAA,8BAAAD,IAAAC,EAAAC,QCrE2B,SAAAC,GAAA,OACzB/B,EAAAhB,EAAAiB,cAAC+B,EAAAhD,EAAW+C,EACV/B,EAAAhB,EAAAiB,cAACyB,EAAeK,KAFpB,IAQaE","file":"component---src-templates-tagged-list-jsx-6f7642d85653e4f39f66.js","sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Helmet from 'react-helmet';\nimport { flow, isEmpty, split, slice, filter, map, includes, get, size, toUpper } from 'lodash/fp';\nimport PostsWrapper from '~/components/Common/PostsWrapper';\nimport Card from '~/components/Common/Card';\nimport Pagination from '~/components/Common/Pagination';\nimport getPosts from '~/utils/getPosts';\nimport getPage from '~/utils/getPage';\nimport { CONTENT_PER_PAGE } from '~/constants';\n\nconst TaggedList = ({ data, location }) => {\n  const page = getPage(3)(location);\n  const tag = flow(\n    get('pathname'),\n    split('/'),\n    get('2')\n  )(location);\n  const allPosts = flow(\n    getPosts,\n    filter(\n      flow(\n        get('node.frontmatter.tags'),\n        includes(tag)\n      )\n    )\n  )(data);\n  const postCount = size(allPosts);\n  const posts = slice(\n    (page - 1) * CONTENT_PER_PAGE,\n    page * CONTENT_PER_PAGE\n  )(allPosts);\n\n  return (\n    <Fragment>\n      <PostsWrapper>\n        <Helmet>\n          <title>\n            {`WONISM | ${toUpper(tag)}`}\n          </title>\n          <meta name=\"og:title\" content={`WONISM | ${toUpper(tag)}`} />\n        </Helmet>\n        {isEmpty(posts) ? (\n          <div>\n            No posts.\n          </div>\n        ) : null}\n        {map((post) => {\n          if (post.node.path !== '/404/') {\n            const frontmatter = get('node.frontmatter')(post);\n            const { images, tags, path } = frontmatter;\n\n            return (\n              <Card key={path} path={path} tags={tags} images={images} {...frontmatter} />\n            );\n          }\n\n          return null;\n        })(posts)}\n      </PostsWrapper>\n      <Pagination\n        prefix={`/tags/${tag}/`}\n        postCount={postCount}\n        location={location}\n      />\n    </Fragment>\n  );\n};\n\nTaggedList.propTypes = {\n  data: PropTypes.shape({}).isRequired,\n  location: PropTypes.shape({}).isRequired,\n};\n\nexport default TaggedList;\n","import React from 'react';\nimport { graphql } from 'gatsby';\nimport Layout from '~/components/layout';\nimport TaggedList from '~/components/TaggedList';\n\nconst TaggedListTemplate = props => (\n  <Layout {...props}>\n    <TaggedList {...props} />\n  </Layout>\n);\n\nexport default TaggedListTemplate;\n\nexport const pageQuery = graphql`\n  query TaggedListQuery {\n    allMarkdownRemark (\n      filter: { frontmatter: { hide: { ne: true } } }\n      sort: { fields: [frontmatter___date], order: DESC }\n    ) {\n      edges {\n        node {\n          frontmatter {\n            type\n            title\n            images\n            path\n            tags\n            date\n            summary\n          }\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}